{
  "format": "creativ44-modpack-v1",
  "name": "House Builder Pack",
  "mods": [
    {
      "name": "HouseBuilder",
      "description": "Platziert ein schönes Haus mit /house",
      "enabled": true,
      "code": "(() => {\ntry {\n\nif (typeof game === 'undefined') return;\n\n// ===== Block IDs =====\nconst BLOCK = {\n  AIR: 0,\n  OAK_LOG: 5,\n  OAK_PLANKS: 15,\n  GLASS: 16,\n  COBBLE: 14,\n  OAK_DOOR: 55\n};\n\n// ===== Haus Builder =====\nfunction buildHouse(baseX, baseY, baseZ) {\n  try {\n    const width = 9;\n    const depth = 9;\n    const height = 5;\n\n    // Boden\n    game.fill(baseX, baseY, baseZ, baseX + width - 1, baseY, baseZ + depth - 1, BLOCK.OAK_PLANKS);\n\n    // Wände\n    for (let y = 1; y <= height; y++) {\n      for (let x = 0; x < width; x++) {\n        for (let z = 0; z < depth; z++) {\n          const isWall = x === 0 || x === width - 1 || z === 0 || z === depth - 1;\n          if (!isWall) continue;\n\n          let block = BLOCK.OAK_PLANKS;\n\n          // Fenster\n          const isWindowHeight = y === 2 || y === 3;\n          const isWindowSpot =\n            (x === Math.floor(width / 2) && (z === 0 || z === depth - 1)) ||\n            (z === Math.floor(depth / 2) && (x === 0 || x === width - 1));\n\n          if (isWindowHeight && isWindowSpot) block = BLOCK.GLASS;\n\n          game.setBlock(baseX + x, baseY + y, baseZ + z, block);\n        }\n      }\n    }\n\n    // Innenraum leeren\n    game.fill(\n      baseX + 1,\n      baseY + 1,\n      baseZ + 1,\n      baseX + width - 2,\n      baseY + height,\n      baseZ + depth - 2,\n      BLOCK.AIR\n    );\n\n    // Tür vorne mittig\n    const doorX = baseX + Math.floor(width / 2);\n    game.setBlock(doorX, baseY + 1, baseZ, BLOCK.AIR);\n    game.setBlock(doorX, baseY + 2, baseZ, BLOCK.AIR);\n    game.setBlock(doorX, baseY + 1, baseZ, BLOCK.OAK_DOOR);\n\n    // Eckpfosten\n    const corners = [[0,0],[width-1,0],[0,depth-1],[width-1,depth-1]];\n    for (const [x,z] of corners) {\n      game.fill(baseX + x, baseY + 1, baseZ + z, baseX + x, baseY + height, baseZ + z, BLOCK.OAK_LOG);\n    }\n\n    // Dach\n    let roofY = baseY + height + 1;\n    let minX = 0, maxX = width - 1, minZ = 0, maxZ = depth - 1;\n\n    while (minX <= maxX && minZ <= maxZ) {\n      game.fill(baseX + minX, roofY, baseZ + minZ, baseX + maxX, roofY, baseZ + maxZ, BLOCK.COBBLE);\n      minX++; maxX--; minZ++; maxZ--; roofY++;\n    }\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n// ===== Command registrieren =====\ntry {\n  if (typeof game.registerCommand === 'function') {\n    game.registerCommand('house', async () => {\n      try {\n        const pos = game.getPlayerPos();\n        if (!pos) return { success:false, output:'Spielerposition nicht gefunden' };\n\n        const x = Math.floor(pos.x + 3);\n        const y = Math.floor(pos.y);\n        const z = Math.floor(pos.z + 3);\n\n        const ok = buildHouse(x, y, z);\n\n        return ok\n          ? { success:true, output:'Haus gebaut!' }\n          : { success:false, output:'Fehler beim Bauen' };\n      } catch (e) {\n        return { success:false, output:'Fehler: ' + e.message };\n      }\n    });\n  }\n} catch(e) {}\n\n} catch(e) {}\n})();"
    }
  ]
}
